<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/scenarioStyles.css">
    <link href="/src/creature.js">
    <title>Scenario Screen</title>
</head>

<body>
    <div class="header">
        <div class="creature-wrapper">
            <div class="creature-bg">
                <img class="creature-icon" src="../media/assets/characters/jackalope.png" alt="creature thumbnail">
            </div>

            <div class="life-bar">
                <div class="life-segment filled"></div>
                <div class="life-segment filled"></div>
                <div class="life-segment filled"></div>
            </div>
        </div>
        <div class="wizard-bar">
            <div class="segment filled"></div>
            <div class="segment filled"></div>
            <div class="segment filled"></div>
            <div class="segment filled"></div>
            <div class="segment filled"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
            <div class="segment"></div>
        </div>
        <div id="timer-container">
            <div class="timer-circle">
                <div id="timer">10</div>
            </div>
        </div>
    </div>
    <div class="content">
        <div id="scenario-container">
            <p id="scenario-name">The Sad Cheese Seller</p>
            <p id="scenario">
                A tiny mouse chef sits behind a lonely cheese cart. 
                <br>
                “No one believes in artisanal forest cheese anymore…”
            </p>
        </div>
    </div>
    <!-- <button id="completeButton" class="disabled">LOCK IN ANSWER</button> -->

    <script>
        let timeLeft = 10;
        const totalTime = 10;
        const timerElement = document.getElementById("timer");
        const circle = document.querySelector(".timer-circle");

        const countdown = setInterval(() => {
            timeLeft--;

            timerElement.textContent = timeLeft;

            let progress = (timeLeft / totalTime) * 360;
            circle.style.background = `conic-gradient(#bb0000 ${progress}deg, #222 0deg)`;

            if (timeLeft <= 0) {
                clearInterval(countdown);
            }
        }, 1000);
    </script>
</body>

</html>